<!DOCTYPE html>
<html>

<head>
	<script type="text/javascript" src="https://unpkg.com/vue-simple-search-dropdown@latest/dist/vue-simple-search-dropdown.min.js">
	</script>
	<script src="https://unpkg.com/vue">
	</script>
	<style>
		@import './style.css';
	</style>
</head>

<body>

	<div class="header">
		<h1>Review For Review</h1>
		<p>With Responsive Layout!</p>
	</div>

	<div class="topnav">
		<a href="#">Link</a>
		<a href="#">Link</a>
		<a href="#">Link</a>
		<a href="#" style="float:right">Link</a>
	</div>

	<div id="app" class="grid-container">
		<!-- Reviews by academic year -->
		<div v-if="charts.review_by_year" class="card">
			<h3>{{charts.review_by_year.title }}</h3>
			<pie-chart label="Count" :data="charts.review_by_year.data">
			</pie-chart>
		</div>
		<!-- Sentiment Score -->
		<div v-if="charts.sentiment_score" class="card">
			<h3>{{charts.sentiment_score.title }}</h3>
			<vue-simple-progress :val=charts.sentiment_score.data.score :text=charts.sentiment_score.data.score.toString() max=10 size="huge"
			 bar-color="#003d7cff">
			</vue-simple-progress>
		</div>
		<!-- Overall opinion -->
		<div v-if="charts.overall_opinion" class="card">
			<h3>{{charts.overall_opinion.title }}</h3>
			<column-chart :colors="['#003d7cff']" label="Count" :data="charts.overall_opinion.data">
			</column-chart>
		</div>

	</div>

	<script src="https://unpkg.com/vue">

	</script>
	<script src="https://unpkg.com/vue-router/dist/vue-router.js">

	</script>
	<script src="https://unpkg.com/chart.js@2.7.2/dist/Chart.bundle.js">

	</script>
	<script src="https://unpkg.com/vue-chartkick@0.4.0">

	</script>
	<script src="https://gstatic.com/firebasejs/4.2.0/firebase.js">

	</script>
	<script src="https://unpkg.com/vuefire/dist/vuefire.js">

	</script>
	<script src="https://unpkg.com/vue-simple-progress@1.1.0/dist/vue-simple-progress.js">
	</script>
	<script>
		var db = firebase.initializeApp({ databaseURL: 'https://bt3103-review-for-review.firebaseio.com/' }).database()
  var chartsRef = db.ref('BT3103')
	new Vue({ 
    el: '#app',
    data: { 
      newTodoText: '', 
      username:'anonymous', 
      localBarData: [["Jan", 4], ["Feb", 2], ["Mar",10], ["Apr", 5], ["May", 3]],
      localLineData: [["Sun", 32], ["Mon", 46], ["Tue", 28]] },
    firebase: {
      charts: {
        source: db.ref('BT3103'),
      // optionally bind as an object 
        asObject: true, 
      }
    }
  })
	</script>
</body>

</html>